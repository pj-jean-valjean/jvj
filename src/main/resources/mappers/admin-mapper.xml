<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminMapper">
	<!-- 상품 공통 인서트 -->
	<insert id="insertProductCommon" >
  		<selectKey order="BEFORE" resultType="_int" keyProperty="productNo">
 			SELECT SEQ_PRODUCT_NO.NEXTVAL FROM DUAL
  		</selectKey>
		INSERT INTO PRODUCT VALUES(
		#{productNo} , #{title} , #{price} , DEFAULT , #{writecate}
		)
	</insert>
	<!-- 클래스 detail 인서트 -->
	<insert id="insertClassProduct" >
		INSERT INTO CLASS_DETAIL VALUES(
			#{productNo} , #{people} , #{editordata} , #{classdate} , #{place} ,#{place} , #{startEndTime}
		)
	</insert>
	<insert id="insertProductImg">
		INSERT INTO PRODUCT_IMG
		SELECT SEQ_PRODUCT_IMG_NO.NEXTVAL, A.* FROM 
		<foreach collection="list" item="img" 
			open="(" close=") A"  separator=" UNION ALL ">
		SELECT #{img.imgPath} PRODUCT_IMG_PATH , #{img.imgName} PRODUCT_IMG_NAME,
		 #{img.imgLevel} PRODUCT_IMG_LEVEL
		, #{img.productNo} PRODUCT_NO 
		FROM DUAL
		</foreach>		
	</insert>
	
	<!-- 공지사항 인서트 -->
	<insert id="insertNotice">
		INSERT INTO NOTICE_BOARD VALUES(
			SEQ_NOTICE_NO.NEXTVAL , #{title}, #{editordata}, DEFAULT , #{loginMember} , #{noticecate}
		)
	</insert>
</mapper>
